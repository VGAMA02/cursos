if (self.CavalryLogger) { CavalryLogger.start_js(["fNQiQxG"]); }

__d("MAWThreadId.bs",["MAWHexUtils","bs_caml_int64","bs_int64","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=[-1,4294966296];function a(a){return b("MAWHexUtils").orderPreservingHex(a)}function c(a){var c;return(c=b("bs_caml_int64")).add(c.mul(c.of_int32(a),c.neg_one),g)}function h(a){return b("bs_int64").compare(a,g)===-1}function d(a){if(h(a)){var c;return{_0:(c=b("bs_caml_int64")).to_int32(c.mul(c.sub(a,g),c.neg_one))}}else{b("recoverableViolation")("We are using a thread key which is not a ChatId as a ChatId. This will likely result in a privacy SEV","messenger_web_product");return 0}}f.orderPreservingHex=a;f.ofThreadKey=d;f.toThreadKey=c;f.isThreadId=h}),null);
__d("MWMessageTableFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j="messages_table";function a(a,b,c){return c.dataset.scope===j}d=b("FocusTable.bs").Make({query:a});e={key:b("CometKeys").UP};var k={key:b("CometKeys").DOWN},l={key:b("CometKeys").LEFT},m={key:b("CometKeys").RIGHT},n=[{command:e,description:g._("Elemento anterior"),handler:function(a){}},{command:k,description:g._("Elemento siguiente"),handler:function(a){}},{command:l,description:g._("Elemento siguiente"),handler:function(a){}},{command:m,description:g._("Elemento anterior"),handler:function(a){}}];function c(a){a=a.children;return i.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:n,xstyle:!1,children:a})}var o,p,q;g=c;f.scopeID=j;f.scopeQuery=a;f.Table_=d;f.Table=o;f.Row=p;f.Cell=q;f.keyUp=e;f.keyDown=k;f.keyLeft=l;f.keyRight=m;f.commandConfigs=n;f.keyCommands=g}),null);
__d("MWMessageCellFocusTable.bs",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.bs","MWMessageTableFocusTable.bs","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("focusScopeQueries").tabbableScopeQuery;d=b("FocusTable.bs").Make({query:c});var j={key:b("CometKeys").ESCAPE},k={key:b("CometKeys").ENTER},l={key:b("CometKeys").SPACE},m=g._("Salir de la zona resaltada"),n=g._("Entrar a la zona resaltada");function a(a){var c=a.onEscape,d=a.onEnter,e=a.onSpace;a=a.children;var f=[];c!==void 0&&f.push({command:j,description:m,handler:c});d!==void 0&&f.push({command:k,description:n,handler:d});e!==void 0&&f.push({command:l,description:n,handler:e});return i.jsx(b("CometComponentWithKeyCommands.react"),{commandConfigs:b("MWMessageTableFocusTable.bs").commandConfigs.concat(f),xstyle:!1,children:a})}var o,p,q;e=a;f.Table_=d;f.Table=o;f.Row=p;f.Cell=q;f.$$escape=j;f.enter=k;f.space=l;f.exitFbt=m;f.enterFbt=n;f.keyCommands=e}),null);
__d("MWV2JumpToMostRecentMessage.bs",["MWVisibleMessageContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWVisibleMessageContext.bs").useHook(void 0),d=c.visibleMessage,e=c.setVisibleMessage,f=h.useCallback(function(b){b=a.current;if(!(b==null))return b.scrollToBottom()},[a]);return h.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(e,function(a){});else return b("bs_curry")._1(f,void 0)},[f,d,e])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessageButton.bs",["fbt","CurrentUser","MWV2ColorUtils.bs","MWV2JumpToMostRecentMessage.bs","MWV2Theme.bs","ODS","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",width:"k4urcfbm",height:"do00u71z"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"kfkz5moi",marginStart:"pg7hd1hw",backgroundColor:"nred35xi",transform:"n9g6laej",transitionProperty:"flx89l3n",transitionDuration:"kmdw4o4n",transitionTimingFunction:"heur4gxb",zIndex:"tghn160j",boxShadow:"oyvrxjdn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"amx3n8jj"}};function a(a){var c=a.scrollerRefs,d=a.visible,e=a.onPress;a=b("MWV2Theme.bs").useHook(void 0);var f=a.threadTheme,h=b("MWV2JumpToMostRecentMessage.bs").useHook(c.scrollerRef);return j.useMemo(function(){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.button,d?k.visible:!1),children:j.jsx(b("TetraCircleButton.react"),{color:"white",disabled:!d,icon:function(a){a=b("MWV2ColorUtils.bs").int64ToHex(f.c);return j.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:j.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})},label:g._("Ir al mensaje m\u00e1s reciente"),onPress:function(a){b("bs_curry")._1(h,void 0);b("bs_curry")._1(e,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},size:40})})})},[h,e,d,f])}c=a;f.styles=k;f.make=c}),null);
__d("MWV2JumpToRepliedMessageLogger.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){var f=b("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(b("bs_curry")._1(a.getTraceId,void 0),null);b("MWChatInteraction.bs").set(c,f);d!==void 0&&(b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):b("bs_caml").i64_eq(d,b("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",b("bs_int64").to_string(e));return a.onComplete(function(a){return b("bs_js_dict").unsafeDeleteKey(b("MWChatInteraction.bs").interactions,c)})}f.startHeroInteractionTrace=a}),null);
__d("MWV2JumpToRepliedMessage.bs",["LS.bs","LSMailboxMessagePointQueryStoredProcedure","LSMessagingInitiatingSourceHook.bs","LSTransaction.bs","MWThreadKey.bs","MWV2JumpToRepliedMessageLogger.bs","MWVersion.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_curry","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("MWThreadKey.bs").useIdMemoizedExn(void 0),g=h.useRef(!1),i=b("MWVisibleMessageContext.bs").useHook(void 0),j=i.setVisibleMessage,k=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),l=b("useCometInteractionTracing")(b("qpl")._(25301087,"7779"),"fast","INTERACTION"),m=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"messages").asc,{hd:f,tl:{hd:c,tl:{hd:a,tl:0}}})},[e,f,c,a]));h.useEffect(function(){m!==void 0||g.current||(g.current=!0,b("LSTransaction.bs").run(e,function(c){return b("LSMailboxMessagePointQueryStoredProcedure")(f,a,void 0,b("LS.bs").make(c))},"readWrite"))},[e,m,f,a]);i=h.useMemo(function(){return m!==void 0},[m]);var n=h.useCallback(function(a){return l(function(e){if(m===void 0)return;var a=m.e,c=m.b;b("bs_curry")._1(j,function(b){return{timestamp:c,messageId:a,highlights:[],contextLine:"",source:1}});return b("MWV2JumpToRepliedMessageLogger.bs").startHeroInteractionTrace(e,d?a:m.f,k,b("MWVersion.bs").v2)})},[m,j,l,d,k]);return[i,n]}f.useHook=a}),null);
__d("MWV2RepliedMessageBubbleWrapper.bs",["fbt","CometPressable.react","MWV2JumpToRepliedMessage.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j={root:{display:"a8c37x1j"}};function a(a){var c=a.messageId,d=a.timestampMs,e=a.isSecureThread;a=a.children;c=b("MWV2JumpToRepliedMessage.bs").useHook(c,d,e);var f=c[1];return i.jsx(b("CometPressable.react"),{"aria-label":g._("Ir al mensaje"),disabled:!c[0],onPress:function(a){return b("bs_curry")._1(f,void 0)},overlayDisabled:!0,xstyle:function(a){return[j.root]},children:a})}c=a;f.styles=j;f.make=c}),null);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useMemo(function(){return[a.some(function(a){return a.getIsInstagramAccount()}),a.some(function(a){return a.getIsGroupsXacIneligible()})]},[a]),c=b[1],d=b[0];return h.useCallback(function(a){var b=a.getIsInstagramAccount(),e=a.getIsGroupsXacIneligible();a=a.getIsInteropIneligible();if(c&&b||d&&e)return!0;else return a},[d,c])}f.useIsDisabled=a}),null);
__d("mwStaticSearchEntries",["fbt","MWChatSearchTypeaheadDataEntry"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("M\u00e1s resultados");function a(){return new(c("MWChatSearchTypeaheadDataEntry"))({displayName:"Expand Search for query",id:"expand_search",imageUrl:"",isContact:!1,resultType:"expand_search",secondaryImageUrl:"",section:i.toString(),subtext:""})}function b(a){return new(c("MWChatSearchTypeaheadDataEntry"))({displayName:'Search messages for "'+a+'"',id:a,imageUrl:"",isContact:!1,resultType:"messages",secondaryImageUrl:"",subtext:""})}g.createExpandSearchEntry=a;g.createMessageSearchEntry=b}),98);
__d("WorkChatDateBreak.bs",["BaseHeading.react","CometTimestamp.react","MWTheme.bs","formatDate","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{textAlign:"oqcyycmt",color:"pipptul6",fontSize:"r9r71o1u",fontWeight:"lrazzd5p"},mask:{backgroundColor:"nred35xi"},accessibleElem:{clip:"q45zohi1",clipPath:"ema1e40h",height:"do00u71z",overflowX:"ni8dbmo4",overflowY:"stjgntxs",width:"ttbfdpzt"}};function a(a){a=a.timestamp;var c=b("MWTheme.bs").useTheme(void 0);return i.jsxs(b("BaseHeading.react"),{children:[i.jsx("div",{className:(h||(h=b("stylex")))(j.accessibleElem),children:i.jsx(b("CometTimestamp.react"),{date:new Date(a)})}),i.jsx("div",{className:h(j.root,b("MWTheme.bs").isGradient(c)?j.mask:!1),"data-scope":"date_break","aria-hidden":!0,children:b("formatDate")(new Date(a),{today:"g:ia",thisYear:"M jS, g:ia",withinWeek:"D g:ia",older:"m/d/Y g:ia",future:"g:ia"})})],testid:"mw-chat-date-break"})}c=a;f.styles=j;f.make=c}),null);
__d("WorkLSXmaParser.bs",["ConstUriUtils","FBID.bs","MNLSXMALayoutType.bs","MWXmaIconParser.bs","URI","XCometMessengerControllerRouteBuilder","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_int64","bs_js_dict","bs_js_json","bs_js_null_undefined","gkx","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;function h(a){var c=a.g,d;if(c==="xma_rtc_audio"||c==="xma_rtc_missed_audio"||c==="xma_rtc_ended_audio")d={TAG:4,_0:{TAG:22,_0:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!1,trigger:c}},_1:void 0};else if(c==="xma_rtc_video"||c==="xma_rtc_new_video_default"||c==="xma_rtc_new_video_from_fb_share"||c==="xma_rtc_new_video_from_fb_video_share"||c==="xma_rtc_missed_video"||c==="xma_rtc_ended_video")d={TAG:4,_0:{TAG:22,_0:{threadId:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d)),hasVideo:!0,trigger:c}},_1:void 0};else if(c==="xma_postback")d={TAG:1,_0:a.f,_1:a.h,_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}};else if(c==="xma_open_dialog"){var e=a.i;if(e!==void 0){e=new(g||(g=b("URI")))(e).getQueryData();var f=e.page_id;e=e.guest_id;d={TAG:4,_0:{TAG:11,_0:{pageId:f,guestId:e}},_1:void 0}}else b("recoverableViolation")("Expected an open dialog url but didn't get any","messenger_business_core_product"),d=void 0}else if(c==="xma_p2p_payment_details"||c==="xma_p2p_request_pay"||c==="xma_p2p_payment_details_receive_money"||c==="xma_p2p_verify_info"){f=a.o;f!==void 0?d={TAG:4,_0:{TAG:21,_0:{id:b("bs_js_null_undefined").fromOption(b("FBID.bs").ofString(b("bs_int64").to_string(f))),currentStatus:null}},_1:void 0}:(b("recoverableViolation")("P2P Transaction encounterd without txn id","messenger_privacy_web"),d=void 0)}else if(c==="xma_live_location_sharing"&&a.j===void 0&&b("gkx")("1539348"))d={TAG:4,_0:{TAG:8,_0:{titleString:a.f,messageId:a.e}},_1:void 0};else if(c==="xma_live_location_sharing"&&a.j!==void 0&&b("gkx")("1597362"))d={TAG:4,_0:{TAG:9,_0:{msgId:a.e}},_1:void 0};else if(c==="xma_poll_details_button"||c==="xma_poll_details_card")d={TAG:5,_0:b("bs_belt_Option").getExn(a.o),_1:b("bs_belt_Option").getExn(a.l)};else if(c==="xma_p2m_checkout"||c==="xma_p2m_payment_details")d={TAG:0,_0:b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.d))}),_1:"_blank",_2:void 0};else if(c==="xma_direct_send"){e=a.l;e!==void 0?d={TAG:4,_0:{TAG:6,_0:JSON.parse(e)},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected pii_form data but didn't get any","mb_apix"),d=void 0)}else if(c==="xma_feedback_send"){f=a.l;f!==void 0?d={TAG:4,_0:{TAG:5,_0:{feedbackFormId:f}},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected Feedback info but didn't get any","mb_apix"),d=void 0)}else if(c==="xma_account_link"){e=a.i;e!==void 0?d={TAG:4,_0:{TAG:3,_0:e},_1:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}}:(b("recoverableViolation")("Expected an account link url but didn't get any","messenger_web_product"),d=void 0)}else if(c==="xma_open_joinable_call_invite_url")d={TAG:4,_0:{TAG:25,_0:{linkUrl:b("bs_belt_Option").getExn(a.i)}},_1:void 0};else if(c==="xma_montage_share")d=void 0;else if(c==="marketplace_xma_call_function"){f=a.l;d=f!==void 0?{TAG:4,_0:{TAG:27,_0:{messageId:a.e,attachmentFbid:a.b,targetId:b("bs_belt_Option").getExn(a.o),actionType:f}},_1:void 0}:void 0}else if(c==="marketplace_xma_open_dialog"){e=a.i;f=a.l;if(e!==void 0&&f!==void 0){e=b("ConstUriUtils").getUri(e);if(e!==void 0){e=b("bs_caml_option").valFromOption(e).getQueryParam("listingID");d={TAG:4,_0:{TAG:28,_0:{ctaType:f,listingId:b("FBID.bs").ofString(e),threadId:b("FBID.bs").ofString(b("bs_int64").to_string(a.d))}},_1:void 0}}else b("recoverableViolation")("Invalid URL found while parsing Marketplace Open Dialog XMA ","marketplace-comet"),d=void 0}else b("recoverableViolation")("No Url or CTA type (actionBlobContent) found while parsing Marketplace Open Dialog XMA ","marketplace-comet"),d=void 0}else if(c==="xma_ctm_in_thread_multiphoto_reply_image"){f=a.l;if(f!==void 0){try{e=b("bs_caml_option").some(JSON.parse(f))}catch(a){e=void 0}if(e!==void 0){f=b("bs_js_json").classify(b("bs_caml_option").valFromOption(e));if(typeof f==="number"||f.TAG!==2)d=void 0;else{e=f._0;f=b("bs_js_dict").get(e,"action_prefill");var h=b("bs_js_dict").get(e,"reply_image_uri");if(f!==void 0&&h!==void 0){f=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(f));h=b("bs_js_json").decodeString(b("bs_caml_option").valFromOption(h));if(f!==void 0&&h!==void 0){var i='{"in_thread_multiphoto_xma_reply": true}',j=a.h,k=b("bs_js_dict").get(e,"ad_id");if(k!==void 0){k=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(k));k=k!==void 0?b("FBID.bs").ofString(k.toString()):void 0}else k=void 0;var l=b("bs_js_dict").get(e,"customer_id");if(l!==void 0){l=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(l));l=l!==void 0?b("FBID.bs").ofString(l.toString()):void 0}else l=void 0;var m=b("bs_js_dict").get(e,"index");e=b("bs_js_dict").get(e,"page_id");if(e!==void 0){e=b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(e));e=e!==void 0?b("FBID.bs").ofString(e.toString()):void 0}else e=void 0;d={TAG:4,_0:{TAG:26,_0:{message:f,image:h,platformToken:j!==void 0&&j!==""?j:i,loggingDetails:{ad_id:k,consumer_id:l,index:m!==void 0?b("bs_js_json").decodeNumber(b("bs_caml_option").valFromOption(m)):void 0,page_id:e}}},_1:void 0}}else d=void 0}else d=void 0}}else d=void 0}else d=void 0}else if(c==="xma_open_native"){f=a.i;h=a.l;if(h!==void 0)d={TAG:3,_0:h};else if(f!==void 0)d={TAG:0,_0:f,_1:"_blank",_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}};else{j=["Title: "+a.f,"Type: "+c,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(a.h,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(a.i,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");b("recoverableViolation")("No Url found while parsing Open Native XMA "+j,"messenger_privacy_web");d=void 0}}else if(c==="xma_join_from_portal"){i=a.i;i!==void 0?d={TAG:4,_0:{TAG:24,_0:{linkUrl:i}},_1:void 0}:(b("recoverableViolation")("Expected an action link url but didn't get any","messenger_web_product"),d=void 0)}else{k=a.i;l=a.l;m=a.m;e=0;var n;if(l!==void 0)d={TAG:3,_0:l};else if(k!==void 0)if(m!==void 0&&m){d={TAG:4,_0:{TAG:14,_0:{actionLink:k,pageID:(h=b("bs_int64")).to_string(a.d),userID:b("FBID.bs").ofString(h.to_string(a.d)),sourceTitle:b("bs_js_null_undefined").fromOption(a.f)}},_1:{pageId:h.to_string(a.d),ctaId:h.to_string(a.a)}}}else n=k,e=1;else{f=["Title: "+a.f,"Type: "+c,"PlatformTokenPresent: "+b("bs_belt_Option").mapWithDefault(a.h,"false",function(a){return"true"}),"ActionUrlPresent: "+b("bs_belt_Option").mapWithDefault(a.i,"false",function(a){return"true"}),"actionContentBlobPresent: "+b("bs_belt_Option").mapWithDefault(a.l,"false",function(a){return"true"})].join(", ");b("recoverableViolation")("Unknown CTA encountered while parsing XMA. "+f,"messenger_privacy_web");d=void 0}e===1&&(d={TAG:0,_0:n,_1:"_blank",_2:{pageId:b("bs_int64").to_string(a.d),ctaId:b("bs_int64").to_string(a.a)}})}return b("bs_belt_Option").map(d,function(b){return{title:a.f,action:b}})}function i(a,c,d,e,f,g,h,i,j,k,l){var m,n,o=(m=b("bs_belt_Option")).mapWithDefault(c,0,(n=b("bs_caml_int64")).to_int32),p=m.mapWithDefault(d,0,n.to_int32);c=m.map(c,n.to_int32);m=m.map(d,n.to_int32);d=b("bs_belt_Option").isNone(a)?j:o===p;if(g!==void 0)if(b("bs_belt_Option").mapWithDefault(h,!1,function(a){return a.includes("gif")}))return{TAG:0,_0:g,_1:{expand:d},_2:c,_3:m};else if(b("bs_belt_Option").mapWithDefault(h,!1,function(a){return a.includes("video")}))return{TAG:1,_0:g,_1:b("FBID.bs").ofStringExn(i),_2:{height:p,width:o,expand:d},_3:b("bs_belt_Option").getWithDefault(k,!1)};else return;if(e===void 0)return;return l!==void 0&&f!==void 0&&l===1?{TAG:0,_0:f,_1:{expand:d},_2:c,_3:m}:{TAG:0,_0:e,_1:{expand:d},_2:c,_3:m}}function j(a,c,d){var e=b("bs_belt_Array").keepMap(c.callToActions,h),f=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(c.defaultCta,h),function(a){return a.action});if(f!==void 0)f={_0:f};else{var g=c.attachment.Q;f=g!==void 0?{_0:{TAG:0,_0:g,_1:"_blank",_2:void 0}}:void 0}return{preview:i(c.attachment.M,c.attachment.K,c.attachment.L,c.attachment.F,c.attachment.bY,c.attachment.A,c.attachment.D,c.attachment.e,a,c.attachment.bX,d),title:c.attachment.R,description:c.attachment.S,headerIcon:b("bs_belt_Option").flatMap(c.attachment.bL,b("MWXmaIconParser.bs").parse),headerTitle:c.attachment.bP,icon:b("bs_belt_Option").flatMap(c.attachment.bf,b("MWXmaIconParser.bs").parse),defaultAction:f,action:e.length!==0?{_0:e}:void 0,canForward:c.attachment.k,listItemsId:c.listItemsId,listItemsDescriptionText:c.listItemsDescriptionText,listItemsSecondaryDescriptionText:c.listItemsSecondaryDescriptionText,listItems:c.listItems}}function k(a,c,d,e){var f=e.attachmentItem;a=a!==void 0?a:!1;c=c!==void 0?b("bs_caml_option").valFromOption(c):void 0;var g=b("bs_belt_Array").keepMap(e.callToActions,h),j=b("bs_belt_Option").map(b("bs_belt_Option").flatMap(e.defaultCta,h),function(a){return a.action}),k=f.f,l=f.g;if(j!==void 0)j={_0:j};else if(a){var m=d.attachment.Q;j=m!==void 0?{_0:{TAG:0,_0:m,_1:"_blank",_2:void 0}}:void 0}else j=void 0;return{preview:i(e.attachmentItem.s,e.attachmentItem.q,e.attachmentItem.r,e.attachmentItem.m,e.attachmentItem.M,e.attachmentItem.h,e.attachmentItem.k,e.attachmentItem.a,a,d.attachment.bX,c),title:k!==void 0?k:a?d.attachment.R:void 0,description:l!==void 0?l:a?d.attachment.S:void 0,headerIcon:b("bs_belt_Option").flatMap(d.attachment.bL,b("MWXmaIconParser.bs").parse),headerTitle:d.attachment.bP,icon:b("bs_belt_Option").flatMap(f.J,b("MWXmaIconParser.bs").parse),defaultAction:j,action:g.length!==0?{_0:g}:void 0,canForward:d.attachment.k,listItemsId:d.listItemsId,listItemsDescriptionText:d.listItemsDescriptionText,listItemsSecondaryDescriptionText:d.listItemsSecondaryDescriptionText,listItems:d.listItems}}function a(a,c,d,e,f){d=f.attachmentItems;e=f.attachment;var g=e.Z,h=e.Y;h=g!==void 0&&h!==void 0?{name:h,icon:g}:void 0;g=e.m;var i=d.length;if(i!==1)if(i!==0)i=2;else{if(g===void 0)return{TAG:8,_0:{TAG:1,_0:j(!0,f,c),_1:h,_2:a}};i=2}else{var l=d[0];if(g===void 0)return{TAG:8,_0:{TAG:1,_0:k(!0,b("bs_caml_option").some(c),f,l),_1:h,_2:a}};if(b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").single))return{TAG:8,_0:{TAG:1,_0:k(!0,b("bs_caml_option").some(c),f,l),_1:h,_2:a}};i=2}if(i===2&&g!==void 0){if(b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").hscroll)){var m=b("bs_caml_option").some(c);return{TAG:8,_0:{TAG:0,_0:d.map(function(a){return k(void 0,m,f,a)}),_1:h,_2:a}}}l=d.length;if(l!==1){if(l===0&&b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").single))return{TAG:8,_0:{TAG:1,_0:j(!0,f,c),_1:h,_2:a}}}else{i=d[0];if(b("bs_caml").i64_eq(g,b("MNLSXMALayoutType.bs").xcenter))return{TAG:8,_0:{TAG:2,_0:k(!0,b("bs_caml_option").some(c),f,i),_1:h,_2:a}}}}l="n Attachment Items: "+String(d.length);c="Layout: "+b("bs_belt_Option").mapWithDefault(g,"na",b("bs_int64").to_string);i="Attachment Type: "+b("bs_int64").to_string(e.f);h=[l,c,i].join(", ");b("recoverableViolation")("Unknown combination of XMA items and layout. "+h,"messenger_privacy_web")}f.parseAttachment=j;f.parserForAttachment=a}),null);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions"],(function(a,b,c,d,e,f,g){var h={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function b(a){Object.assign(h,a),window.setInterval(i,h.timeout)}function i(){var a=c("getViewportDimensions")(),b=j(),e=c("Layer").getTopmostLayer();if(e){e=(e=e.getRoot())==null?void 0:e.firstChild;e||d("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var f=d("DOMDimensions").getElementDimensions(e);f.height+=d("DOMDimensions").measureElementBox(e,"height",!0,!0,!0);f.width+=d("DOMDimensions").measureElementBox(e,"width",!0,!0,!0);b.height=Math.max(b.height,f.height);b.width=Math.max(b.width,f.width)}e=b.height-a.height;f=b.width-a.width;f<0&&d("FlowMigrationUtilsForLegacyFiles").isFalsy(h.widthElement)&&(f=0);f=f>1?f:0;d("FlowMigrationUtilsForLegacyFiles").isFalsy(h.allowShrink)&&e<0&&(e=0);if(e||f)try{window.console&&window.console.firebug,window.resizeBy(f,e),f&&window.moveBy(f/-2,0)}catch(a){}}function j(){var b=d("DOMDimensions").getDocumentDimensions();if(h.strategy==="offsetHeight"){var c=document.body;if(!c)d("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{b.height=(c=c.offsetHeight)!=null?c:0}}if(d("FlowMigrationUtilsForLegacyFiles").isFalsy(h.widthElement)&&typeof h.widthElement==="string"){c=d("DOMQuery").scry(document.body,h.widthElement)[0];c&&(b.width=d("DOMDimensions").getElementDimensions(c).width)}c=a.Dialog;c&&c.max_bottom&&c.max_bottom>b.height&&(b.height=c.max_bottom);return b}function e(a,b,c,e){return d("Popup").open(a,c,b,e)}g._opts=h;g.init=b;g._resizeCheck=i;g._getDocumentSize=j;g.open=e}),98);