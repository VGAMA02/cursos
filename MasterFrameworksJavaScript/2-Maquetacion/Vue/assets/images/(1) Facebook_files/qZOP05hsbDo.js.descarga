if (self.CavalryLogger) { CavalryLogger.start_js(["bASu+pN"]); }

__d("CometOutlineContentEditable.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={editor:{color:"oo9gr5id",outline:"lzcic4wl",overflowWrap:"jm1wdb64",position:"l9j0dhe7",textAlign:"gsox5hk5",userSelect:"mdldhsdk",whiteSpace:"ii04i59q"}};function a(a){var b=a.ariaActiveDescendantID,d=a.ariaAutoComplete,e=a.ariaControls,f=a.ariaDescribedBy,g=a.ariaExpanded,j=a.ariaLabel,k=a.ariaLabelledBy,l=a.ariaMultiline,m=a.ariaOwneeID,n=a.ariaRequired,o=a.autoCapitalize,p=a.autoComplete,q=a.autoCorrect,r=a.contentEditableRef,s=a.readOnly;s=s===void 0?!1:s;var t=a.role;t=t===void 0?"textbox":t;var u=a.spellCheck;u=u===void 0?!1:u;var v=a.tabIndex,w=a.webDriverTestID;w=a.xstyle;return h.jsx("div",{"aria-activedescendant":s?null:b,"aria-autocomplete":s?null:d,"aria-controls":s?null:e,"aria-describedby":f,"aria-expanded":s?null:t==="combobox"?!!g:null,"aria-label":j,"aria-labelledby":k,"aria-multiline":l,"aria-owns":s?null:m,"aria-required":n,autoCapitalize:o,autoComplete:p,autoCorrect:q,className:c("stylex")(i.editor,w)+" "+(s?"":"notranslate"),contentEditable:!s,"data-testid":void 0,ref:r,role:s?null:t,spellCheck:u,suppressContentEditableWarning:!0,tabIndex:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("cometUFIOutlineIsEmpty",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.getTextContent().trim()===""&&b.attachment==null}f["default"]=a}),66);
__d("useCometOutlineAddCommitListeners",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo;function a(){var a=i(function(){return new Set()},[]),b=h(function(b){a.add(b);return function(){a["delete"](b)}},[a]);return[function(){return Array.from(a)},b]}g["default"]=a}),98);
__d("useCometOutlineFocusListeners",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useMemo,k=b.useRef;function a(a){var b=j(function(){return new Set()},[]),c=k(document.activeElement===a.getRootElement());i(function(){var d=function(){var a=Array.from(b),d=c.current;for(var e=0;e<a.length;e++)a[e](d)},e=function(){c.current=!0,d()},f=function(){c.current=!1,d()};return a.addListener("root",function(a,b){b!==null&&(b.removeEventListener("focus",e),b.removeEventListener("blur",f)),a!==null?(c.current=document.activeElement===a,a.addEventListener("focus",e),a.addEventListener("blur",f)):c.current=!1,d()})},[a,b]);return h(function(a){b.add(a);a(c.current);return function(){b["delete"](a)}},[b])}g.useCometOutlineFocusListeners=a}),98);
__d("CometOutlinePlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={placeholder:{color:"m9osqain",overflowX:"ni8dbmo4",overflowY:"stjgntxs",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",textOverflow:"ltmttdrg",top:"kr520xx4",userSelect:"abiwlrkh",whiteSpace:"g0qnabr5",width:"k4urcfbm"}};function a(a){var b=a.children;a=a.xstyle;return h.jsx("div",{children:b,className:c("stylex")(i.placeholder,a)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometOutlinePlaceholder",["ReactDOMComet","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useRef,i=b.useState;function a(a){var b=i(!0),e=b[0],f=b[1],g=h(!0);c("useLayoutEffect_SAFE_FOR_SSR")(function(){var b=function(b){var c=a.canShowPlaceholder();g.current!==c&&(g.current=c,b?d("ReactDOMComet").flushSync(function(){return f(c)}):f(c))};b(!1);return a.addListener("update",function(){return b(!0)})},[a]);return e}g["default"]=a}),98);
__d("useCometOutlineErrorListener",["Outline","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.addListener("error",function(c,d){var e=document.activeElement,f=null;e!=null&&(f={activeElement:e.nodeName,rootSelected:e===a.getRootElement()});e=window.getSelection();var g=null;if(e!=null){var i=e.anchorNode,j=e.focusNode;g={anchorNode:i===null?null:i.nodeName,anchorOffset:e.anchorOffset,focusNode:j===null?null:j.nodeName,focusOffset:e.focusOffset,isCollapsed:e.isCollapsed}}i=window.event;j=null;i!=null&&(j={altKey:i.altKey,ctrlKey:i.ctrlKey,data:i.data,inputType:i.inputType,isComposing:i.isComposing,keyCode:i.keyCode,metaKey:i.metaKey,shiftKey:i.shiftKey,type:i.type});e=null;try{e=h(a)}catch(a){}b({activeElement:f,error:c,event:j,selection:g,tree:e,updateName:d})})},[b,a])}function h(a){function b(a){var b=[];a=a.getRoot().getChildren();for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;var g=[];b.push({children:g,flags:f.__flags,key:f.__key,name:f.__type,parent:f.__parent,type:f.__type});c(f,g)}return b}function c(a,b){if(d("Outline").isBlockNode(a)){a=a.getChildren();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=[];b.push({children:h,flags:g.__flags,key:g.__key,name:g.__type,parent:g.__parent,type:g.__type});c(g,h)}}}a=a.getViewModel().read(function(a){return b(a)});return a}g["default"]=a}),98);
__d("useCometOutlineKeyBindings",["CometOutlineEventPriority","Keys","react","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useMemo,j=new Set([c("Keys").ESC,c("Keys").TAB,c("Keys").RETURN,c("Keys").LEFT,c("Keys").UP,c("Keys").RIGHT,c("Keys").DOWN,c("Keys").LEFT_WINDOW_KEY,c("Keys").SHIFT,c("Keys").CTRL,c("Keys").ALT,c("Keys").CAPS_LOCK,c("Keys").BACKSPACE,c("Keys").DELETE,c("Keys").SPACE]);function a(a){var b=i(function(){return{}},[]),e=h(function(a,c){c===void 0&&(c=d("CometOutlineEventPriority").CometOutlineEventPriority.NORMAL);b[c]==null&&(b[c]=new Set());b[c].add(a);return function(){b[c]["delete"](a)}},[b]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){var c=function(a){var c=a.keyCode;if(j.has(c))for(var c=d("CometOutlineEventPriority").CometOutlineEventPrioritySorted,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;g=Array.from((g=b[g])!=null?g:[]);for(var h=g.length-1;h>-1;h--){var i=g[h];i=i(a);if(i==="handled")return}}};return a.addListener("root",function(a,b){b!==null&&b.removeEventListener("keydown",c),a!==null&&a.addEventListener("keydown",c)})},[a,b]);return e}g["default"]=a}),98);
__d("useCometOutlineComposerPlugins",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a,b){return i(function(){var c=[],d=[],e=[],f=[];if(a!=null)for(var g=0;g<a.length;g++){var i=a[g];if(typeof i!=="function"){var j=i.above,k=i.action,l=i.below,m=i.id,n=i.inside;i=i.props;var o=null;k!==null&&(o=k(babelHelpers["extends"]({},i,{pluginProps:b})));if(o!==null){c.push(h.createElement(o,babelHelpers["extends"]({},(k=i)!=null?k:{},{key:m,pluginProps:b})))}if(j!==null){d.push(h.createElement(j,babelHelpers["extends"]({},(o=i)!=null?o:{},{key:m,pluginProps:b})))}if(l!==null){e.push(h.createElement(l,babelHelpers["extends"]({},(k=i)!=null?k:{},{key:m,pluginProps:b})))}if(n!==null){f.push(h.createElement(n,babelHelpers["extends"]({},(j=i)!=null?j:{},{key:m,pluginProps:b})))}}}return{above:d,actions:c,below:e,inside:f}},[a,b])}g["default"]=a}),98);
__d("useOutlineDecorators",["cr:10463"],(function(a,b,c,d,e,f){e.exports=b("cr:10463")}),null);
__d("useOutlinePlainText",["cr:1967621"],(function(a,b,c,d,e,f){e.exports=b("cr:1967621")}),null);
__d("CometUFIComposerInputWithActionsForOutline.react",["CometOutlineContentEditable.react","CometOutlineEventPriority","CometOutlinePlaceholder.react","CometUFIComposerActions.react","CometVisualCompletionAttributes","FBLogger","FocusRegion.react","cr:2012305","cr:287","cr:846","react","stylex","useCometOutlineAddCommitListeners","useCometOutlineComposerPlugins","useCometOutlineErrorListener","useCometOutlineFocusListeners","useCometOutlineKeyBindings","useCometOutlinePlaceholder","useCometUFIOutlineEmptyListeners","useLayoutEffect_SAFE_FOR_SSR","useMergeRefs","useOutlineDecorators","useOutlinePlainText"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=e.useState,l={composerDenial:{backgroundColor:"r898ja9m",borderTop:"pmg7q2s5",borderEnd:"m2wu88kb",borderBottom:"hxpkjkow",borderStart:"czm2i3kx"},disabled:{cursor:"bnpdmtie"},disabledForm:{backgroundColor:"r898ja9m"},editorWrapper:{position:"l9j0dhe7"},emptyInput:{color:"m9osqain",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",textOverflow:"ltmttdrg",whiteSpace:"g0qnabr5",":focus":{color:"r2ndix9n"}},focusPressable:{cursor:"o6r2urh6",position:"l9j0dhe7"},form:{backgroundColor:"b3i9ofy5",borderTopStartRadius:"e72ty7fz",borderTopEndRadius:"qlfml3jp",borderBottomEndRadius:"inkptoze",borderBottomStartRadius:"qmr60zad",borderTopWidth:"rt8b4zig",borderEndWidth:"n8ej3o3l",borderBottomWidth:"agehan2d",borderStartWidth:"sk4xxmp2",display:"j83agx80",justifyContent:"bkfpd7mw"},formWithDraftComment:{flexWrap:"lhclo0ds"},input:{cursor:"o6r2urh6",flexBasis:"mg4g778l",flexGrow:"buofh1pr",flexShrink:"g5gj957u",fontSize:"jq4qci2q",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingEnd:"d1544ag0",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq"}};function m(a,c){b("cr:2012305")!==null&&a!=null&&b("cr:2012305").trackTypingPerf(a,"UFI2RichComposerInput",c,{editor:"OutlineEditor"})}function a(a){var e=a.addAttachmentMapper,f=a.addCommandListener,g=a.ariaDescribedBy,n=a.ariaLabel,o=a.commentAction,p=a.composerState,q=a.depth,r=a.editor,s=a.execCommand,t=a.formElementRef,u=a.handleFormClick,v=a.initialOutlinePlugins,w=a.inputElementRef,x=a.isLocked,y=a.onBlur,z=a.onCommit,A=a.onFocus,B=a.onInputRefUpdated,C=a.placeholder,D=a.setComposerState;a=i(function(a){var b=w.current;if(b===a)return;w.current=a;r.setRootElement(a);m(a,b)},[r,w]);var E=d("useCometUFIOutlineEmptyListeners").useCometUFIOutlineEmptyListeners(r,p),F=d("useCometOutlineFocusListeners").useCometOutlineFocusListeners(r),G=c("useCometOutlineKeyBindings")(r),H=c("useOutlineDecorators")(r),I=c("useCometOutlineAddCommitListeners")(),J=I[0],K=I[1];I=k(!1);var L=I[0],M=I[1];I=k(null);var N=I[0],O=I[1];I=k(!1);var P=I[0],Q=I[1],R=d("useCometUFIOutlineEmptyListeners").useCometUFIOutlineIsEmpty(E);I=c("useCometOutlinePlaceholder")(r);var S;c("useCometOutlineErrorListener")(r,function(a){var b=a.error,d=a.updateName;a=babelHelpers.objectWithoutPropertiesLoose(a,["error","updateName"]);c("FBLogger")("UFIOutlineComposer").catching(b).mustfix("Outline Update Error \u2013 "+(d||"MissingName")+" \u2013 "+JSON.stringify(a));Q(!0)});var T=i(function(a){var b;a=a;((b=a)==null?void 0:b.constructor.name)==="SyntheticBaseEvent"&&(c("FBLogger")("UFIOutlineComposer").mustfix("First onCommit param is of type SyntheticBaseEvent. This is probably because you're passing onCommit directly to the React handler. Make sure you're explicitly calling onCommit() when you want to set the first param undefined"),a=void 0);b=J();for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f()==="block-commit")return}z(S,a)},[S,J,z]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){return G(function(a){if(a.keyCode===13&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&!a.altKey){a.preventDefault();a.stopImmediatePropagation();R||T();return"handled"}return"not-handled"},d("CometOutlineEventPriority").CometOutlineEventPriority.EDITOR)},[G,T,R]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(A==null)return;return F(function(a){a&&A()})},[F,A]);c("useLayoutEffect_SAFE_FOR_SSR")(function(){if(y==null)return;return F(function(a){a||y()})},[F,y]);var U=!1,V=j(function(){return{addAttachmentMapper:e,addCommandListener:f,addCommitListener:K,addEmptyListener:E,addFocusListener:F,addKeyBinding:G,commentAction:o,composerState:p,depth:q,editor:r,execCommand:s,fileIsHoveringOverDropTarget:L,isCommentDenied:U,mediaUploadError:N,onCommit:T,setComposerState:D,setFileIsHoveringOverDropTarget:M,setMediaUploadError:O}},[e,f,K,E,F,G,o,p,q,r,s,L,U,N,T,D]);v=c("useCometOutlineComposerPlugins")(v,V);var W=v.above,X=v.actions,Y=v.below;v=v.inside;var Z=q?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment",$=p.ariaInputs,aa=$?$["aria-activedescendant"]:void 0;$=$?$["aria-controls"]:void 0;S=c("useOutlinePlainText")(r,x);return h.jsxs(h.Fragment,{children:[W,P&&b("cr:287")!=null?h.jsx(b("cr:287"),{editor:r,source:"Editor update"}):null,h.jsxs("form",{className:c("stylex")(U&&l.composerDenial,x&&l.disabled,x&&l.disabledForm,l.focusPressable,l.form,!R&&l.formWithDraftComment),"data-testid":void 0,onClick:u,ref:t,role:"presentation",children:[h.jsxs("div",babelHelpers["extends"]({className:c("stylex")([R&&l.emptyInput,l.input])},c("CometVisualCompletionAttributes").IGNORE,{children:[h.jsxs("div",{className:c("stylex")(l.editorWrapper),children:[h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:null,children:h.jsx(c("CometOutlineContentEditable.react"),{ariaActiveDescendantID:aa,ariaControls:$,ariaDescribedBy:g,ariaLabel:String((W=n)!=null?W:C),contentEditableRef:c("useMergeRefs")(a,B),readOnly:x,spellCheck:!0,webDriverTestID:Z+":rich-input"})}),I&&h.jsx(c("CometOutlinePlaceholder.react"),{children:C})]}),H,v]})),h.jsx(c("CometUFIComposerActions.react"),{children:X})]}),Y,b("cr:846")&&h.jsx(b("cr:846"),{editor:r,pluginProps:V})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getCommentDataFromCometUFIComposerStateForOutline",["CometOutlineEntityTextNode","CometUFIOutlineEmojiNode","Outline","UnicodeUtils","cometUFICommentFormattingStyleForText"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){var g=e.attachment,h;g==null?h=null:g.__type==="ExistingAttachment"?h=[]:h=Array.from(f).map(function(a){return a(g)}).filter(Boolean);var i={},j=[],k="";b.getViewModel().read(function(a){a=a.getRoot().getFirstChild();a instanceof d("Outline").BlockNode&&a.getChildren().forEach(function(a){if(a instanceof c("CometOutlineEntityTextNode")){var e=a.getUFIComposerEntity(b);i[e.id]=e;j.push({entity:{id:e.id},length:d("UnicodeUtils").strlen(a.getTextContent()),offset:d("UnicodeUtils").strlen(k)})}else if(a instanceof d("CometUFIOutlineEmojiNode").EmojiNode){k+=a.getRawText();return}k+=a.getTextContent()})});return k.trim()===""&&e.attachment==null?null:{commentData:{attachments:h,feedback_id:a,file_marker:e.fileMarker,formatting_style:c("cometUFICommentFormattingStyleForText")(k,e.formattingStyle),insights_point_json:e.insightsPoint,is_inline_vote_enabled_for_qna:e.shouldDisableReactionsOnOptimisticComment,message:{ranges:j,text:k},reply_comment_parent_fbid:(f=e.commentAssociatedWithReply)==null?void 0:f.id,reply_target_clicked:e.replyTargetClicked},entitiesByID:i,usedWritingHelpToCompose:e.usedWritingHelpToCompose===!0}}g["default"]=a}),98);